{
  "version": 3,
  "sources": ["../../../../../../node_modules/@sutton-signwriting/sgnw-components/dist/esm/sgnw-palette.entry.js"],
  "sourcesContent": ["/*!\n * The Sutton SignWriting Web Components\n */\nimport { r as registerInstance, h, H as Host, g as getElement } from './_commonjsHelpers-383fba37.js';\nimport { c as convert, H as HomeIcon, C as ChevronUpIcon, A as ArrowLeftIcon, a as ArrowRightIcon, b as ArrowUpIcon, d as ArrowDownIcon } from './icons-472d6293.js';\nimport { d as iswa2010SWU, p as padArrayInner, b as padArray, h as hasSize } from './global-4493408c.js';\nconst sgnwPaletteCss = \".sc-sgnw-palette-h{width:100%;height:100%;display:flex}.sc-sgnw-palette-h nav.sc-sgnw-palette{height:100%;width:100%;flex:0 0 10%;display:flex;align-items:center}.sc-sgnw-palette-h nav.sc-sgnw-palette fsw-button.sc-sgnw-palette,.sc-sgnw-palette-h nav.sc-sgnw-palette div.sc-sgnw-palette{flex:25%;height:100%;width:100%;margin:1%}.sc-sgnw-palette-h main.sc-sgnw-palette{flex:0 0 90%;width:100%;height:100%;display:grid}.horizontal.sc-sgnw-palette-h{flex-direction:row}.horizontal.sc-sgnw-palette-h nav.sc-sgnw-palette{flex-direction:column}.horizontal.small.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-columns:repeat(10,1fr)}.horizontal.medium.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-columns:repeat(10,1fr)}.horizontal.large.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-columns:repeat(16,1fr)}.vertical.sc-sgnw-palette-h{flex-direction:column}.vertical.sc-sgnw-palette-h nav.sc-sgnw-palette{flex-direction:row}.vertical.sc-sgnw-palette-h main.sc-sgnw-palette{grid-auto-flow:column}.vertical.small.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-rows:repeat(10,1fr)}.vertical.medium.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-rows:repeat(10,1fr)}.vertical.large.sc-sgnw-palette-h main.sc-sgnw-palette{grid-template-rows:repeat(16,1fr)}\";\nconst SgnwPalette = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /** orientation of palette */\n    this.orientation = \"vertical\";\n    this.major = 10;\n    this.minor = 3;\n    this.total = 30;\n    /** size of palette */\n    this.size = \"small\";\n    /** set of symbols */\n    this.alphabet = iswa2010SWU;\n    /** top level symbol selection */\n    this.group = null;\n    /** mid level symbol selection */\n    this.base = null;\n    /** flag for small palette */\n    this.more = false;\n    this.hasMore = false;\n    /** flag for small and medium palette */\n    this.lower = false;\n    this.hasLower = false;\n    this.palette = [];\n  }\n  parseSizeProp(newValue) {\n    switch (newValue) {\n      case \"large\":\n        this.major = 16;\n        this.minor = 6;\n        break;\n      case \"medium\":\n        this.major = 10;\n        this.minor = 6;\n        break;\n      case \"small\":\n      default:\n        this.major = 10;\n        this.minor = 3;\n        break;\n    }\n    this.total = this.major * this.minor;\n  }\n  watchGroup() {\n    if (this.group == null && this.base != null) {\n      this.base = null;\n    } else {\n      this.setPalette();\n    }\n  }\n  watchBase() {\n    this.setPalette();\n  }\n  watchMore() {\n    this.setPalette();\n  }\n  watchLower() {\n    this.setPalette();\n  }\n  getPaletteAll() {\n    let keys = Object.keys(this.alphabet);\n    if (this.size == 'large') {\n      keys = padArrayInner(keys, 10, 16);\n    }\n    keys = padArray(keys, this.total);\n    this.more = false;\n    this.hasMore = false;\n    this.lower = false;\n    this.hasLower = false;\n    return keys;\n  }\n  getPaletteGroup() {\n    let keys = this.alphabet[this.group];\n    if (this.size == 'large') {\n      keys = padArrayInner(keys, 10, 16);\n    }\n    keys = padArray(keys, this.total);\n    if (keys.length > this.total) {\n      this.hasMore = true;\n      if (!this.more) {\n        keys = keys.slice(0, this.total);\n      } else {\n        keys = keys.slice(this.total, this.total * 2);\n      }\n    } else {\n      this.more = false;\n      this.hasMore = false;\n    }\n    this.lower = false;\n    this.hasLower = false;\n    return keys;\n  }\n  getPaletteBase() {\n    const base = convert.swu2key(this.base).slice(0, 4);\n    let key;\n    const lower1 = base + \"08\";\n    const lower2 = base + \"18\";\n    const more1 = base + \"30\";\n    let r1 = 0;\n    let r2 = 16;\n    let f1 = 0;\n    let f2 = 6;\n    if (this.size != \"large\") {\n      this.hasLower = hasSize(convert.key2id(lower1)) || hasSize(convert.key2id(lower2));\n      if (!this.lower) {\n        r2 = 8;\n      } else {\n        r1 = 8;\n      }\n    }\n    if (this.size == \"small\") {\n      this.hasMore = hasSize(convert.key2id(more1));\n      if (!this.more) {\n        f2 = 3;\n      } else {\n        f1 = 3;\n      }\n    }\n    let keys = [];\n    for (var f = f1; f < f2; f++) {\n      for (var r = r1; r < r2; r++) {\n        key = base + f + r.toString(16);\n        keys.push(convert.key2swu(key));\n      }\n    }\n    if (this.size != \"large\") {\n      keys = padArrayInner(keys, 8, 10);\n    }\n    return keys;\n  }\n  setPalette() {\n    let palette;\n    switch (true) {\n      case !this.group:\n        palette = this.getPaletteAll();\n        break;\n      case !!this.group && !!this.base:\n        palette = this.getPaletteBase();\n        break;\n      case !!this.group:\n        palette = this.getPaletteGroup();\n        break;\n    }\n    this.palette = [...palette];\n  }\n  paletteSymbolClickHandler(event) {\n    switch (true) {\n      case !this.group:\n        this.group = event.detail;\n        break;\n      case !!this.group && !!this.base:\n        break;\n      case !!this.group:\n        this.base = event.detail;\n        this.more = false;\n    }\n  }\n  componentWillLoad() {\n    if (typeof this.alphabet == \"string\") {\n      this.alphabet = JSON.parse(this.alphabet);\n    }\n    this.parseSizeProp(this.size);\n    this.setPalette();\n  }\n  render() {\n    return h(Host, {\n      class: this.orientation + \" \" + this.size\n    }, h(\"nav\", null, h(\"sgnw-button\", {\n      svg: HomeIcon,\n      onClick: () => {\n        this.group = null;\n      }\n    }), this.group ? h(\"sgnw-button\", {\n      svg: ChevronUpIcon,\n      onClick: () => {\n        if (this.base) {\n          this.base = null;\n          this.more = null;\n        } else {\n          this.group = null;\n        }\n      }\n    }) : h(\"div\", null), this.hasMore ? h(\"sgnw-button\", {\n      svg: this.more ? ArrowLeftIcon : ArrowRightIcon,\n      onClick: () => {\n        this.more = !this.more;\n      }\n    }) : this.size == \"small\" ? h(\"div\", null) : null, this.hasLower ? h(\"sgnw-button\", {\n      svg: this.lower ? ArrowUpIcon : ArrowDownIcon,\n      onClick: () => {\n        this.lower = !this.lower;\n      }\n    }) : this.size != \"large\" ? h(\"div\", null) : null), h(\"main\", null, this.palette.map(key => h(\"sgnw-palette-symbol\", {\n      symbol: key\n    }))));\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"size\": [\"parseSizeProp\"],\n      \"group\": [\"watchGroup\"],\n      \"base\": [\"watchBase\"],\n      \"more\": [\"watchMore\"],\n      \"lower\": [\"watchLower\"]\n    };\n  }\n};\nSgnwPalette.style = sgnwPaletteCss;\nexport { SgnwPalette as sgnw_palette };"],
  "mappings": "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",
  "names": []
}
