{
  "version": 3,
  "sources": ["../../../../../../node_modules/web-worker/src/browser/index.js", "../../../../../../node_modules/@sign-mt/browsermt/build/esm/index.js"],
  "sourcesContent": ["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default typeof Worker !== 'undefined' ? Worker : undefined;", "import * as comlink from \"comlink\";\nfunction createBergamotWorker(path) {\n  const workerClass = \"Worker\" in globalThis ? globalThis.Worker : require(\"web-worker\");\n  const worker = new workerClass(path);\n  const abortionError = new Promise((resolve, reject) => {\n    worker.addEventListener(\"error\", reject);\n    worker.addEventListener(\"close\", resolve);\n  });\n  return new Proxy(comlink.wrap(worker), {\n    get(target, prop, receiver) {\n      if (prop === \"terminate\") {\n        return () => {\n          worker.terminate();\n        };\n      }\n      const targetProp = Reflect.get(target, prop, receiver);\n      if (typeof targetProp === \"function\") {\n        return (...args) => {\n          return Promise.race([targetProp(...args), abortionError]);\n        };\n      }\n      return targetProp;\n    }\n  });\n}\nexport { createBergamotWorker };\n"],
  "mappings": ";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,IAgBO;AAhBP;AAAA;AAgBA,IAAO,kBAAQ,OAAO,WAAW,cAAc,SAAS;AAAA;AAAA;;;ACfxD,SAAS,qBAAqB,MAAM;AAClC,QAAM,cAAc,YAAY,aAAa,WAAW,SAAS;AACjE,QAAM,SAAS,IAAI,YAAY,IAAI;AACnC,QAAM,gBAAgB,IAAI,QAAQ,CAAC,SAAS,WAAW;AACrD,WAAO,iBAAiB,SAAS,MAAM;AACvC,WAAO,iBAAiB,SAAS,OAAO;AAAA,EAC1C,CAAC;AACD,SAAO,IAAI,MAAc,KAAK,MAAM,GAAG;AAAA,IACrC,IAAI,QAAQ,MAAM,UAAU;AAC1B,UAAI,SAAS,aAAa;AACxB,eAAO,MAAM;AACX,iBAAO,UAAU;AAAA,QACnB;AAAA,MACF;AACA,YAAM,aAAa,QAAQ,IAAI,QAAQ,MAAM,QAAQ;AACrD,UAAI,OAAO,eAAe,YAAY;AACpC,eAAO,IAAI,SAAS;AAClB,iBAAO,QAAQ,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,aAAa,CAAC;AAAA,QAC1D;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACH;",
  "names": []
}
