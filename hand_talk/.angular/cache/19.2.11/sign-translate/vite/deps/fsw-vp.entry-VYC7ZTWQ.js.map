{
  "version": 3,
  "sources": ["../../../../../../node_modules/@sutton-signwriting/sgnw-components/dist/esm/fsw-vp.entry.js"],
  "sourcesContent": ["/*!\n * The Sutton SignWriting Web Components\n */\nimport { r as registerInstance, h, H as Host, g as getElement } from './_commonjsHelpers-383fba37.js';\nimport { f as fsw } from './fsw-74700325.js';\nimport { s as style } from './style-fd531f8d.js';\nimport { c as cssValues } from './global-4493408c.js';\nconst fswVpCss = \":host{writing-mode:vertical-lr;border-right:1px solid blue;height:100%}:host svg{display:block}:host span.outside{font-size:0%;line-height:0%;border-left:1px solid blue;vertical-align:top}:host span.middle{vertical-align:bottom}:host span.inside{border-left:1px dashed red}fsw-sign,fsw-symbol{writing-mode:horizontal-tb;display:inline-block;vertical-align:middle;box-sizing:content-box}\";\nconst FswVp = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.sgnw = window.sgnw;\n    this.items = [];\n  }\n  parseText(newValue) {\n    this.items = fsw.parse.text(newValue).map(val => {\n      let i = fsw.info(val);\n      i['text'] = val;\n      return i;\n    });\n  }\n  connectedCallback() {\n    if (!this.vp) {\n      this.vp = this.el.innerHTML;\n    } else {\n      this.parseText(this.vp);\n    }\n    if (!this.sgnw) {\n      let self = this;\n      function handleSgnw() {\n        self.sgnw = window.sgnw;\n        window.removeEventListener(\"sgnw\", handleSgnw, false);\n      }\n      window.addEventListener('sgnw', handleSgnw, false);\n    }\n  }\n  render() {\n    const values = cssValues(this.el);\n    const styling = style.compose({\n      colorize: this.colorize,\n      detail: values.detail\n    });\n    const offset = 150;\n    return h(Host, {\n      vp: this.vp\n    }, h(\"span\", {\n      class: \"outside\"\n    }, h(\"span\", {\n      class: \"middle\"\n    }, h(\"span\", {\n      class: \"inside\"\n    }, this.items.map(item => {\n      let zoom, pad, width, height, right, padding;\n      if (item['segment'] == 'sign') {\n        zoom = values.zoom * item['zoom'];\n        pad = item['padding'] * zoom;\n        width = item['width'] * zoom + pad * 2;\n        height = item['height'] * zoom + pad * 2;\n        right = (1000 - item[\"minX\"] * 2 - item['width']) * zoom - offset * values.zoom * item['lane'];\n        padding = Math.max(0, 20 * zoom - pad);\n        return h(\"fsw-sign\", {\n          styling: styling,\n          style: {\n            \"font-size\": values.zoom * 30 + \"px\",\n            \"width\": width + \"px\",\n            \"height\": height + \"px\",\n            \"margin-right\": (right > 0 ? right : 0) + \"px\",\n            \"border-left\": (right < 0 ? -right : 0) + \"px solid transparent\",\n            \"padding\": padding + \"px\"\n          }\n        }, item['text']);\n      } else if (item['segment'] == 'symbol') {\n        zoom = values.zoom * item['zoom'];\n        pad = item['padding'] * zoom;\n        width = item['width'] * zoom + pad * 2;\n        height = item['height'] * zoom + pad * 2;\n        padding = Math.max(0, 20 * zoom - pad);\n        return h(\"fsw-symbol\", {\n          styling: styling,\n          style: {\n            \"font-size\": values.zoom * 30 + \"px\",\n            \"width\": width + \"px\",\n            \"height\": height + \"px\",\n            \"padding-bottom\": padding + \"px\"\n          }\n        }, item['text']);\n      } else {\n        console.log(\"other\");\n        return h(\"div\", null, item['text']);\n      }\n    })))));\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"vp\": [\"parseText\"]\n    };\n  }\n};\nFswVp.style = fswVpCss;\nexport { FswVp as fsw_vp };"],
  "mappings": "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",
  "names": []
}
